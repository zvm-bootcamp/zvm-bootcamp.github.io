<!DOCTYPE html>
<html lang="pt-BR" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.5.0.760387399271">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.5.0">

    <!-- Primary Meta Tags -->
    <title>System Configuration</title>
    <meta name="title" content="System Configuration">
    <meta name="description" content="Como programador de sistema, você deve se familiarizar com o arquivo SYSTEM CONFIG.">

    <!-- Canonical -->
    <link rel="canonical" href="https://zvm-bootcamp.github.io/pt-br/system-configuration/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://zvm-bootcamp.github.io/pt-br/system-configuration/">
    <meta property="og:title" content="System Configuration">
    <meta property="og:description" content="Como programador de sistema, você deve se familiarizar com o arquivo SYSTEM CONFIG.">
    <meta property="og:image" content="https://zvm-bootcamp.github.io/imgs/workshop-pagespool.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://zvm-bootcamp.github.io/pt-br/system-configuration/">
    <meta property="twitter:title" content="System Configuration">
    <meta property="twitter:description" content="Como programador de sistema, você deve se familiarizar com o arquivo SYSTEM CONFIG.">
    <meta property="twitter:image" content="https://zvm-bootcamp.github.io/imgs/workshop-pagespool.png">

    <script data-cfasync="false">(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../resources/css/retype.css?v=3.5.0.760387399271" rel="stylesheet">

    <script data-cfasync="false" src="../../resources/js/config.js?v=3.5.0.760387399271" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../resources/js/retype.js?v=3.5.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../resources/js/lunr.js?v=3.5.0.760387399271" data-turbo-eval="false" defer></script>
</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../" class="flex items-center leading-snug text-xl">
                            <span class="w-10 mr-2 grow-0 shrink-0 overflow-hidden">
                                <img class="max-h-10 dark:hidden md:inline-block" src="../../static/vmbear.jpg">
                                <img class="max-h-10 hidden dark:inline-block" src="../../static/vmbear.jpg">
                            </span>
                            <span class="dark:text-white font-semibold line-clamp-1 md:line-clamp-2">z/VM Bootcamp</span>
                        </a><span class="hidden px-2 py-1 ml-4 text-sm font-semibold leading-none text-root-logo-label-text bg-root-logo-label-bg rounded-sm md:inline-block">Workshop</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://titosoft.github.io/z/vm/zvm-cheatsheet/" target="_blank">z/VM Cheat Sheet</a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-gray-400 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 dark:placeholder-dark-400" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Pesquisar">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <!-- Render this div, if config.showSidebarFilter is `true` -->
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filtrar">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://titosoft.github.io/z/vm/zvm-cheatsheet/" target="_blank">z/VM Cheat Sheet</a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="ch:systemconfig" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ch:systemconfig">#</doc-anchor-trigger>
        <span>System Configuration</span>
    </h1>
</doc-anchor-target>
<p>Como programador de sistema, você deve se familiarizar com o arquivo SYSTEM CONFIG.</p>
<p>O arquivo SYSTEM CONFIG contém as definições primárias do sistema usadas quando o CP é inicializado (IPLed). Todas as informações necessárias para configurar o CP estaticamente vêm deste arquivo. Em um cluster SSI, todos os membros usam o mesmo arquivo SYSTEM CONFIG; no entanto, você pode especificar que determinadas declarações de configuração se apliquem apenas a membros específicos, qualificando as declarações com um identificador de sistema. Este tópico tem exemplos desse método de especificação.</p>
<p>O arquivo SYSTEM CONFIG reside em um minidisco especial formatado em CMS (CF0) pertencente ao ID de usuário PMAINT. Minidiscos que contêm esses objetos são chamados de discos de parâmetro porque, quando alocados, esses discos recebem um tipo de categoria de registro especial chamado &quot;PARM&quot;. Pode haver mais de um disco de parâmetro alocado em um sistema z/VM para backup e recuperação.</p>
<p>Informações relacionadas: &quot;Using Configuration Files&quot; in z/VM: CP Planning and Administration, SC24-6178-09.</p>
<doc-anchor-target id="exercícios">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#exercícios">#</doc-anchor-trigger>
        <span>Exercícios</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="discos-de-parâmetro-do-sistema">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#discos-de-parâmetro-do-sistema">#</doc-anchor-trigger>
        <span>Discos de parâmetro do sistema</span>
    </h3>
</doc-anchor-target>
<p>O arquivo SYSTEM CONFIG está localizado em um disco de parâmetro do sistema. Antes de começar a atualizar o arquivo SYSTEM CONFIG, você deve acessar o disco de parâmetro (Neste caso, o CF0 do usuário PMAINT).</p>
<p>Os minidiscos CF1 e CF3 do usuário MAINT são tradicionalmente usados como discos de parâmetro do sistema. Use o comando QUERY CPDISK para verificar quais discos de parâmetro do sistema estão em uso no seu sistema:</p>
<ul>
<li>Faça login como MAINT e digite o seguinte comando e pressione Enter</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; q cpdisk</code></pre>
</doc-codeblock></div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">q userid                                                             
MAINT    AT ZVMWSXX                                                  
q cpdisk                                                             
Label  Userid   Vdev Mode Stat Vol-ID Rdev Type   StartLoc     EndLoc
MNTCF1 MAINT    0CF1  A   R/O  AB1RES 6205 CKD          39        158
MNTCF3 MAINT    0CF3  C   R/O  AB1RES 6205 CKD         160        279</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="passos-para-acessar-o-disco-de-parâmetro-e-criar-um-backup-para-o-arquivo-system-config">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#passos-para-acessar-o-disco-de-parâmetro-e-criar-um-backup-para-o-arquivo-system-config">#</doc-anchor-trigger>
        <span>Passos para acessar o disco de parâmetro e criar um backup para o arquivo SYSTEM CONFIG</span>
    </h3>
</doc-anchor-target>
<p>Realize os seguintes passos para acessar o disco de parâmetro CF0:</p>
<ul>
<li>Faça login como MAINT e acesse o disco de parâmetro (CF0 do usuário PMAINT). Digite esses comandos e pressione Enter após cada comando:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; link pmaint cf0 cf0 mr

===&gt; access cf0 x</code></pre>
</doc-codeblock></div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">q userid                                                                        
MAINT    AT ZVMWSXX                                                             
Ready; T=0.01/0.01 08:30:09                                                     

link pmaint cf0 cf0 mr                                                          
Ready; T=0.01/0.01 08:30:23                                                     

access cf0 x                                                                    
Ready; T=0.01/0.01 08:30:37                                                     

q disk                                                                          
LABEL  VDEV M  STAT   CYL TYPE BLKSZ   FILES  BLKS USED-(%) BLKS LEFT  BLK TOTAL
MNT191 191  A   R/W   175 3390 4096        4         11-01      31489      31500
MNT5E5 5E5  B   R/O    18 3390 4096      134       1537-47       1703       3240
MNT2CC 2CC  C   R/O    10 3390 4096        3        104-06       1696       1800
MNT51D 51D  D   R/O    26 3390 4096      293       1796-38       2884       4680
PMT551 551  E   R/O    40 3390 4096        8        119-02       7081       7200
MNT190 190  S   R/O   207 3390 4096      696      18085-49      19175      37260
MNT19E 19E  Y/S R/O   500 3390 4096     1123      30403-34      59597      90000
(*|\textcolor{red}{PMTCF0 CF0}|*)  X   R/W   120 3390 4096        2         15-01      21585      21600
Ready; T=0.01/0.01 08:30:39                                                     
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                            RUNNING   ZVMWSXX   </code></pre>
</doc-codeblock></div>
<ul>
<li>Como prática recomendada, faça um backup do arquivo SYSTEM CONFIG:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; copy system config x system configbk x </code></pre>
</doc-codeblock></div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">copy system config x system configbk x  
Ready; T=0.01/0.01 08:32:53             

listfile * * x                          
LOGO     CONFIG   X1                    
SYSTEM   CONFIG   X1                    
SYSTEM   CONFIGBK X1                    
Ready; T=0.01/0.01 08:32:59      </code></pre>
</doc-codeblock></div>
<div><p>Você sabe que terminou quando tiver acesso ao disco CF0 e tiver criado um backup do arquivo SYSTEM CONFIG no disco de parâmetro.</p>
<doc-anchor-target id="editar-o-arquivo-system-config">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#editar-o-arquivo-system-config">#</doc-anchor-trigger>
        <span>Editar o arquivo SYSTEM CONFIG</span>
    </h3>
</doc-anchor-target>
<p>Após vincular em &quot;Multiple Write Mode&quot;, você pode editar o arquivo
SYSTEM CONFIG com o editor XEDIT.</p>
<p>Antes de começar a atualizar o arquivo SYSTEM CONFIG, vamos criar um pequeno
REXX que automatizará o acesso ao disco SYSTEM CONFIG. A partir do usuário MAINT,
use o XEDIT para criar um novo arquivo chamado GETCF0 EXEC A:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; xedit getcf0 exec a</code></pre>
</doc-codeblock></div>
<p>Adicione o seguinte conteúdo:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">/* REXX will link PMAINT CF0 */

'LINK PMAINT CF0 CF0 MR'
'ACCESS CF0 X'</code></pre>
</doc-codeblock></div>
<p>Execute um script &quot;GETCF0&quot; que acessará o disco de parâmetro como o disco &quot;X&quot;.</p>
<doc-anchor-target id="etapas-para-atualizar-a-lista-de-volumes-de-propriedade-do-cp-cp-owned">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#etapas-para-atualizar-a-lista-de-volumes-de-propriedade-do-cp-cp-owned">#</doc-anchor-trigger>
        <span>Etapas para atualizar a lista de volumes de propriedade do CP (CP-owned)</span>
    </h3>
</doc-anchor-target>
<p>A lista de volumes CP-owned é o local onde você especifica os rótulos dos volumes de paginação, spooling e disco temporário que o CP deve anexar automaticamente ao sistema durante o IPL. Esses volumes contêm os dados do sistema para o seu sistema z/VM. Todos os outros volumes no sistema são considerados volumes de usuário.</p>
<p><strong>Antes de começar:</strong> Você precisa formatar e alocar seus volumes de paginação, spooling, disco temporário ou volumes permanentes. Você precisa ter acesso ao disco de parâmetro.</p>
<p>Realize os seguintes passos para atualizar a lista de volumes de propriedade do CP:</p>
<ul>
<li>Faça login como MAINT</li>
<li>Edite o arquivo SYSTEM CONFIG. Digite um dos dois comandos a seguir para obter acesso e editar o arquivo, e pressione a tecla Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; xedit system config x</code></pre>
</doc-codeblock></div>
<p>Ou</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; filel * * x (go to the CMD column of the file, type x and press enter)</code></pre>
</doc-codeblock></div>
<p>Você verá um arquivo como o seguinte:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">SYSTEM   CONFIG   X1  F 80  Trunc=80 Size=376 Line=0 Col=1 Alt=0               
                                                                                
00000 * * * Top of File * * *                                                   
00001 /**********************************************************************/  
00002 /*             SYSTEM CONFIG FILE                                     */  
00003 /**********************************************************************/  
00004 /*                                                                    */  
00005 /*  Refer to CP Planning and Administration for SYSTEM CONFIG rules   */  
00006 /*                                                                    */  
00007 /*  Warning - Always run CPSYNTAX after updating the SYSTEM CONFIG    */  
00008 /*                                                                    */  
00009 /**********************************************************************/  
00010                                                                           
00011                                                                           
00012 /**********************************************************************/  
00013 /*                   System_Identifier Information                    */  
00014 /**********************************************************************/  
00015                                                                           
00016   /* System_Identifier LPAR ZVMWSXX  ZVMWSXX */                           
00017   /* System_Identifier LPAR @@LU-2 @@MEMSLOT2 */
00018   /* System_Identifier LPAR @@LU-3 @@MEMSLOT3 */                          
00019   /* System_Identifier LPAR @@LU-4 @@MEMSLOT4 */                          
00020                                                                           
00021       System_Identifier * * ZVMWSXX                                       
00022                                                                           
00023                                                                           
00024 /**********************************************************************/  
00025 /*         SSI Statement required for VMSSI feature                   */  
00026 /**********************************************************************/  
00027                                                                           
00028   SSI CLUSTER1  PDR_VOLUME VMCOM1,                                        
00029         SLOT 1 ZVMWSXX                                                    
00030 /*      SLOT 2 @@MEMSLOT2,  */                                            
00031 /*      SLOT 3 @@MEMSLOT3,  */                                            
00032 /*      SLOT 4 @@MEMSLOT4   */                                            
00033                                                                           
00034                                                                           
00035 /**********************************************************************/  
00036 /*                Checkpoint and Warmstart Information                */  
00037 /**********************************************************************/  
00038                                                                           
00039   ZVMWSXX:     System_Residence,                                          
====&gt;                                                                           </code></pre>
</doc-codeblock></div>
<ul>
<li>Localize a string &quot;VOLUMES DE DESPEJO E SPOOL&quot;. Na linha de comando do XEDIT,
digite o seguinte comando e pressione Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; /dump/ &amp; /spool/ &amp; /volume/</code></pre>
</doc-codeblock></div>
<ul>
<li>Adicione volumes de Spool adicionais nos slots em <strong>ordem crescente</strong> (slots
11, 12 e assim por diante).</li>
</ul>
<p>Duplicate the following line:</p>
<div class="bclogo"><p>Duplicating a line on XEDIT To duplicate a line in XEDIT place a double
quote (&quot;) in the line number and press enter, example:</p>
<p>00080
/**********************************************************************/</p>
<p>00081</p>
<p style="color: red">[&quot;]0082 CP_Owned Slot 10 M01S01</p>
<p>00083</p>
<p>00084
/**********************************************************************/</p>
</div>
</div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00082     CP_Owned   Slot  10  M01S01</code></pre>
</doc-codeblock></div>
<p>Adicione o volume de Spool previamente formatado (M01S02) <strong>abaixo da linha M01S01</strong>.</p>
<p>Agora você deve ver algo como o seguinte:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00072 /*                                           DUMP &amp; SPOOL VOLUMES     */
00073 /* Dump and spool volumes begin with slot 10 and are assigned in      */
00074 /* ascending order, without regard to the system that owns them.      */
00075 /* In an SSI cluster all member systems MUST have access to ALL spool */
00076 /* volumes and they MUST be assigned the same slot number on each     */
00077 /* system. When moving to an SSI cluster volume ownership, which      */
00078 /* determines which member owns and can allocate the spool space,     */
00079 /* will be established by CPFMTXA.                                    */
00080 /**********************************************************************/
00081
00082     CP_Owned   Slot  10  M01S01
00083     CP_Owned   (*|\textcolor{red}{Slot  11}|*)  (*|\textcolor{red}{M01S02}|*)</code></pre>
</doc-codeblock></div>
<ul>
<li>Para adicionar o volume PAGE, localize a string &quot;VOLUMES DE PÁGINA E TDISK&quot; (Dica: você pode encontrar esta seção logo abaixo da seção de SPOOL). Na linha de comando do XEDIT, digite o seguinte comando e pressione Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; /page/ &amp; /tdisk/ &amp; /volume/</code></pre>
</doc-codeblock></div>
<ul>
<li>Adicione volumes de Página adicionais nos slots em <strong>ordem decrescente</strong> (slots 254, 253 e assim por diante).</li>
</ul>
<p>Duplicar a linha a seguir:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00095     CP_Owned   Slot 255  M01P01</code></pre>
</doc-codeblock></div>
<p>Adicione o volume de Página previamente formatado (M01P02) <strong>acima da linha M01P01</strong>.</p>
<p>Agora você deve ver algo como o seguinte:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">SYSTEM   CONFIG   Z1  F 80  Trunc=80 Size=280 Line=85 Col=1 Alt=2              
                                                                                
00085 /*                                           PAGE &amp; TDISK VOLUMES     */  
00086 /* In a SSI cluster Paging and T-disk volumes are not shared.         */  
00087 /* To avoid interference with spool volumes and to automatically      */  
00088 /* have all unused slots defined as &quot;Reserved&quot;, begin with slot 255   */  
00089 /* and assign them in descending order.  It is NOT required that each */  
00090 /* system use the same slot numbers for paging and T-disk volumes.    */  
00091 /* When moving to an SSI cluster volume ownership will be established */  
00092 /* by CPFMTXA OWNER.                                                  */  
00093 /**********************************************************************/  
00094                                                                           
00095     CP_Owned   Slot 254  M01P02                                      
00096     CP_Owned   Slot 255  M01P01                                           
00097                                                                           
00098 /**********************************************************************/  
00099 /*                          User_Volume_List                          */  
00100 /**********************************************************************/  
00101 /* These volumes contain the minidisks for your guests, as well as    */  
00102 /* the product disks for z/VM. Volumes that are not intended to hold  */  
00103 /* &quot;local&quot; minidisks, i.e., minidisks that would be unique to a       */  
00104 /* single system, should be kept on separate volumes.                 */  
00105                                                                           
00106 /**********************************************************************/  
00107 /* Shared User Volumes                                                */  
00108 /**********************************************************************/  
00109                User_Volume_List  VMCOM2 630RL1 630RL2                     
00110                                                                           
00111 /**********************************************************************/  
00112 /* User volumes for local minidisks                                   */  
00113 /**********************************************************************/  
====&gt;                         </code></pre>
</doc-codeblock></div>
<ul>
<li>Salve o arquivo. Na linha de comando do XEDIT, digite este comando e pressione a tecla Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; save</code></pre>
</doc-codeblock></div>
<div><doc-anchor-target id="passos-para-atualizar-a-lista-de-volumes-do-usuário">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#passos-para-atualizar-a-lista-de-volumes-do-usuário">#</doc-anchor-trigger>
        <span>Passos para atualizar a lista de volumes do usuário</span>
    </h3>
</doc-anchor-target>
<p>Assim como existe uma lista de volumes DASD que o CP deve anexar automaticamente ao sistema durante o IPL para acesso às áreas do sistema CP, existe uma lista de volumes DASD que o CP deve anexar automaticamente ao sistema para definições de minidiscos do usuário.</p>
<p>Como todos os minidiscos são gerenciados pelo CP, todos os volumes que abrigam minidiscos devem ser anexados ao sistema z/VM. O CP deve controlar os volumes para poder reorientar programas de canal iniciados por um sistema operacional convidado. O convidado percebe seus discos como começando no cilindro 0, mas a verdadeira localização do minidisco do convidado começa em um deslocamento do cilindro real 0.</p>
<p>A menos que você qualifique as declarações de volume do usuário com um nome de sistema, os volumes do usuário são anexados a todos os membros do cluster SSI.</p>
<p>Se nenhum volume do usuário estiver anexado ao sistema no momento do IPL, os dispositivos reais que abrigam os minidiscos precisam ser anexados manualmente. Caso contrário, as máquinas virtuais não terão discos. Para evitar a anexação manual, você pode instruir o CP a procurar rótulos de volume DASD e anexar esses dispositivos durante o IPL.</p>
<p>A declaração USER_VOLUME_LIST direciona o CP a anexar volumes DASD do usuário específicos durante o carregamento (IPL) do z/VM. A declaração USER_VOLUME_INCLUDE permite que você crie um identificador de volume geral e inclua todos os volumes que correspondem ao identificador geral.</p>
<p>Exemplo: Se todos os seus volumes do usuário Linux têm um identificador de volume que começa com LNX, você pode adicionar esta declaração:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">02109          User_Volume_Include LNX*</code></pre>
</doc-codeblock></div>
<p>Se um volume é normalmente anexado ao sistema usando uma declaração USER_VOLUME_INCLUDE, o CP não notifica o operador se o volume não estiver montado. Se um volume do usuário for necessário para a operação normal do sistema, especifique-o com uma declaração USER_VOLUME_LIST para que o operador seja notificado durante a inicialização do sistema se o volume não estiver montado.</p>
<p><strong>Antes de começar:</strong> Você precisa formatar e alocar os volumes do usuário necessários. Você precisa ter acesso ao disco de parâmetros.</p>
<ul>
<li>Se ainda não estiver fazendo isso, você deve editar o arquivo de SYSTEM CONFIG. Digite este comando e pressione a tecla Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; xedit system config x</code></pre>
</doc-codeblock></div>
<p>Siga estes passos para atualizar a lista de volumes do usuário:</p>
<ul>
<li>Encontre a string &quot;User_Volume_List&quot; na seção intitulada &quot;User volumes for local minidisks.&quot;. Na linha de comando do XEDIT, digite este comando e
pressione a tecla Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; /user_volume_list</code></pre>
</doc-codeblock></div>
<ul>
<li><p>Para volumes de usuário compartilhados, atualize as declarações User_Volume_List na seção &quot;Shared User Volumes&quot;.</p>
</li>
<li><p>Inclua os volumes LNX301, LNX302 e LNX303 nesta lista (usaremos o caractere curinga LNX*)</p>
</li>
<li><p>Na área de prefixo para a última declaração USER_VOLUME_LIST, digite &quot;i2&quot; e pressione a tecla Enter. Por exemplo:</p>
</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00099 /*                          User_Volume_List                          */
00100 /**********************************************************************/
00101 /* These volumes contain the minidisks for your guests, as well as    */
00102 /* the product disks for z/VM. Volumes that are not intended to hold  */
00103 /* &quot;local&quot; minidisks, i.e., minidisks that would be unique to a       */
00104 /* single system, should be kept on separate volumes.                 */
00105                                                                         
00106 /**********************************************************************/
00107 /* Shared User Volumes                                                */
00108 /**********************************************************************/
(*|\textcolor{red}{i2}|*)109                User_Volume_List  VMCOM2 630RL1 630RL2                   
00110                                                                         
00111 /**********************************************************************/
00112 /* User volumes for local minidisks                                   */
00113 /**********************************************************************/</code></pre>
</doc-codeblock></div>
<ul>
<li>Adicione uma declaração User_Volume_Include. Se você seguiu as instruções do último capítulo, provavelmente possui volumes chamados LNX301, LNX302 e LNX303, então faz sentido usar o caractere curinga LNX* para nossos volumes.
Exemplo:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00099 /*                          User_Volume_List                          */
00100 /**********************************************************************/
00101 /* These volumes contain the minidisks for your guests, as well as    */
00102 /* the product disks for z/VM. Volumes that are not intended to hold  */
00103 /* &quot;local&quot; minidisks, i.e., minidisks that would be unique to a       */
00104 /* single system, should be kept on separate volumes.                 */
00105                                                                         
00106 /**********************************************************************/
00107 /* Shared User Volumes                                                */
00108 /**********************************************************************/
00109                User_Volume_List  VMCOM2 630RL1 630RL2                   
00110                (*|\textcolor{red}{User\_Volume\_Include  LNX*}|*)                                                                        
00111                                                                       
00112 /**********************************************************************/
00113 /* User volumes for local minidisks                                   */
00114 /**********************************************************************/</code></pre>
</doc-codeblock></div>
<ul>
<li>Ao terminar as declarações User_Volume_List, pressione a tecla Enter.</li>
<li>Salve o arquivo. Na linha de comando do XEDIT, digite este comando e pressione a tecla Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; save</code></pre>
</doc-codeblock></div>
<p>Pergunta: Existe outra maneira de adicionar esses discos LNX* à lista de volumes do usuário?</p>
<doc-anchor-target id="passos-para-atualizar-a-declaração-de-features">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#passos-para-atualizar-a-declaração-de-features">#</doc-anchor-trigger>
        <span>Passos para atualizar a declaração de FEATURES</span>
    </h3>
</doc-anchor-target>
<p>A declaração FEATURES em SYSTEM CONFIG permite que você modifique atributos
associados ao sistema em execução no momento do IPL. Neste procedimento, você
irá modificar alguns dos recursos.</p>
<ul>
<li><p>O recurso <strong>Auto_Warm_IPL</strong> faz com que o CP ignore a solicitação de opções de inicialização, desde que o desligamento anterior do sistema tenha sido bem-sucedido. O recurso permite uma inicialização totalmente automatizada do z/VM.</p>
</li>
<li><p>O recurso <strong>Clear_TDisk</strong> faz com que o CP apague completamente os discos temporários (ou seja, sobrescreva todo o disco temporário com zeros) após esses discos serem desanexados. O recurso impede que outro usuário que defina um disco temporário com o mesmo tamanho acesse dados gravados pelo usuário anterior.</p>
</li>
<li><p>O recurso <strong>Retrieve</strong> define o número padrão e máximo de buffers de recuperação permitidos por usuário em seu sistema. Os buffers de recuperação criam um histórico de comandos, dos quais os usuários podem recuperar comandos previamente emitidos. A recuperação de comando geralmente é atribuída a uma tecla de função do programa, como PF12 (F12). A atribuição é feita por meio do comando CP SET, SET PF12 RETRIEVE. Ao pressionar PF12, um comando é recuperado e escrito de volta na área de comando na tela do terminal. Provavelmente, você não precisa alterar essas configurações.</p>
</li>
<li><p>O recurso <strong>Passwords_on_Cmds</strong> permite que os usuários usem senhas ao usar os comandos CP AUTOLOG, LINK ou LOGON.</p>
</li>
<li><p>O recurso <strong>Disconnect_timeout</strong> controla se e quando uma máquina virtual é desconectada após ser forçada a desconectar. Você desativará esse recurso, para que qualquer máquina virtual que tenha sido forçada a desconectar não seja desconectada.</p>
</li>
<li><p>Os recursos <strong>ShutdownTime</strong> e <strong>Signal ShutdownTime</strong> permitem que uma máquina virtual se registre no CP para receber um sinal de desligamento quando o z/VM está sendo desligado. O CP aguarda para desligar-se até que o intervalo de tempo (em segundos) seja excedido ou todas as máquinas virtuais habilitadas para o sinal de desligamento tenham relatado um desligamento bem-sucedido. Algumas distribuições Linux suportam essa função, o que permite que o Linux seja desligado corretamente antes do desligamento do z/VM.</p>
</li>
</ul>
<p><strong>Observação:</strong> A menos que você qualifique os recursos com um nome de sistema, esses recursos serão os mesmos para todos os membros em seu cluster SSI.</p>
<p>Procedimento: Encontre a linha que contém o texto &quot;Features Statement&quot;, é uma seção. Na linha de comando do XEDIT, digite este comando e pressione a tecla Enter:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; /Features Statement</code></pre>
</doc-codeblock></div>
<p>Você verá algo como isto:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00146 /*                         Features Statement                         */
00147 /**********************************************************************/
00148
00149  Features ,
00150    Disable ,                       /* Disable the following features */
00151      Set_Privclass ,               /* Disallow SET PRIVCLASS command */
00152      Auto_Warm_IPL ,               /* Prompt at IPL always           */
00153      Clear_TDisk   ,               /* Don't clear TDisks at IPL time */
00154    Retrieve ,                      /* Retrieve options               */
00155      Default  20 ,                 /* Default.... default is 20      */
00156      Maximum  255 ,                /* Maximum.... default is 255     */
00157    MaxUsers noLimit ,              /* No limit on number of users    */
00158    Passwords_on_Cmds ,             /* What commands allow passwords? */
00159      Autolog  yes ,                /* ... AUTOLOG does               */
00160      Link     yes ,                /* ... LINK does                  */
00161      Logon    yes ,                /* ... and LOGON does, too        */
00162    Vdisk Userlim 144000 blocks     /* Maximum vdisk allowed per user */</code></pre>
</doc-codeblock></div>
<p>e vamos modificar para algo como isto:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00148 /*                         Features Statement                         */
00149 /**********************************************************************/
00150
00151  Features ,
00152    Enable,                         /* Enable the following features  */
00153      Set_Privclass ,               /* Allow SET PRIVCLASS command    */
00154      Auto_Warm_IPL ,               /* Do not prompt at IPL           */
00155      Clear_TDisk   ,               /* Clear TDisks at IPL time       */
00156    Retrieve ,                      /* Retrieve options               */
00157      Default  99 ,                 /* Default.... default is 20      */
00158      Maximum  255 ,                /* Maximum.... default is 255     */
00159    MaxUsers noLimit ,              /* No limit on number of users    */
00160    Passwords_on_Cmds ,             /* What commands allow passwords? */
00161      Autolog  yes ,                /* ... AUTOLOG does               */
00162      Link     yes ,                /* ... LINK does                  */
00163      Logon    yes ,                /* ... and LOGON does, too        */
00164    Vdisk ,                         /* Maximum vdisk allowed per user */
00165      Syslim infinite ,
00166      Userlim infinite ,
00167    Disconnect_timeout off
00168    Set ,
00169      ShutdownTime 30 ,
00170      Signal ShutdownTime 500
00171
</code></pre>
</doc-codeblock></div>
<p>Na próxima seção, configuraremos os dispositivos para iniciar online.</p>
<doc-anchor-target id="configurar-o-acesso-de-controle-aos-dispositivos-durante-a-inicialização">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#configurar-o-acesso-de-controle-aos-dispositivos-durante-a-inicialização">#</doc-anchor-trigger>
        <span>Configurar o acesso de controle aos dispositivos durante a inicialização</span>
    </h3>
</doc-anchor-target>
<p>Às vezes, seu sistema z/VM pode ter acesso a dispositivos que você não
deseja que sejam iniciados online durante o IPL. Por exemplo, os dispositivos podem
duplicar rótulos de dispositivos usados pelo seu sistema de produção ou podem estar
sendo usados por outros LPARs ou sistemas. Você pode especificar intervalos de dispositivos
que o z/VM não deve iniciar online durante o IPL.</p>
<p>Encontre a seção intitulada &quot;Status of Devices&quot;. Na linha de comando do XEDIT,
digite este comando e pressione a tecla Enter:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; /status of devices</code></pre>
</doc-codeblock></div>
<p>Na linha com a palavra &quot;Devices&quot;, digite i na área de prefixo e pressione a tecla Enter:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">SYSTEM   CONFIG   Z1  F 80  Trunc=80 Size=286 Line=190 Col=1 Alt=2           
                                                                              
00190 /*                        Status of Devices                           */
00191 /**********************************************************************/
00192                                                                         
(*| \textcolor{red}{i} |*)0193  Devices ,                                                              
00194    Online_at_IPL   0000-FFFF,                                           
00195    Sensed          0000-FFFF                                            
00196                                                                         
00197 /**********************************************************************/
00198 /*                     Console Definitions                            */
00199 /**********************************************************************/
00200      </code></pre>
</doc-codeblock></div>
<p>Digite a seguinte linha e pressione a tecla Enter:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; Offline_at_IPL 0000-FFFF,</code></pre>
</doc-codeblock></div>
<p>Digite um intervalo de dispositivos no comando ONLINE_AT_IPL com um intervalo de dispositivos específico para o seu sistema.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; Online_at_IPL 0009,   /* Console device */</code></pre>
</doc-codeblock></div>
<p>Adicione uma nova declaração ONLINE_AT_IPL para cada intervalo de dispositivos. Use o comando de prefixo &quot;i&quot; para adicionar linhas.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; Online_at_IPL 0200-0700,  /* PERM,PAGE,SPOOL */
===&gt; Online_at_IPL 0800-0808,  /* OSAs */</code></pre>
</doc-codeblock></div>
<p>O resultado:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">SYSTEM   CONFIG   Z1  F 80  Trunc=80 Size=289 Line=187 Col=1 Alt=0           
                                                                              
00187 /**********************************************************************/
00188 /*                        Status of Devices                           */
00189 /**********************************************************************/
00190                                                                         
00191  Devices ,                                                              
00192    Offline_at_IPL   0000-FFFF,                                          
00193    Online_at_IPL    0009,       /* Console */                
00196    Online_at_IPL    0200-0700,  /* PERM,PAGE,SPOOL */
00198    Online_at_IPL    0800-0808,  /* OSAs */
00200    Sensed           0000-FFFF                                           
00201                                                                                            </code></pre>
</doc-codeblock></div>
<doc-anchor-target id="definir-endereços-para-consoles">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#definir-endereços-para-consoles">#</doc-anchor-trigger>
        <span>Definir endereços para consoles</span>
    </h3>
</doc-anchor-target>
<p>Durante o primeiro IPL do seu sistema z/VM, você precisou especificar um parâmetro de carga para poder se comunicar com o Stand-Alone Program Loader (SAPL). O motivo é que o novo sistema z/VM não sabia quais endereços de dispositivo usar para exibir mensagens e prompts. O sistema de instalação inclui endereços de dispositivo padrão para uso como console do operador do sistema e console de mensagens de emergência, mas esses endereços raramente correspondem à configuração de hardware de produção. Portanto, para não precisar usar o SAPL toda vez que você IPL o z/VM, você precisa fornecer o endereço do seu console IPL e do seu console de mensagens de emergência na declaração Operator_Consoles. Durante o IPL, o CP tenta cada dispositivo na declaração Operator_Consoles (da esquerda para a direita) até encontrar um dispositivo ativo. Se nenhum dispositivo da lista estiver ativo, o CP carrega um estado de espera desabilitado e termina. O console de mensagens de emergência é usado como um console adicional durante falhas. Defina o console de emergência com a declaração Emergency_Message_Console.</p>
<p>Encontre a seção intitulada &quot;Console Definitions&quot;.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; /console </code></pre>
</doc-codeblock></div>
<p>Defina <strong>0009</strong> como o primeiro dispositivo nas declarações <strong>Operator_Consoles</strong> e <strong>Emergency_Message_Consoles</strong>. Isso dirá ao z/VM para abrir a comunicação com o operador usando o dispositivo <strong>0009</strong>, que é o endereço do console virtual. Isso eliminará a necessidade de passar parâmetros de carga no próximo boot.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00200 /**********************************************************************/
00201 /*                     Console Definitions                            */
00202 /**********************************************************************/
00203                                                                         
00204  Operator_Consoles     (*|\textcolor{red}{0009}|*) 0020 0021 0022 0023 0E20 0E21 1020 ,        
00205                        System_3270 System_Console                       
00206  Emergency_Message_Consoles   (*|\textcolor{red}{0009}|*) 0020 0021 0022 0023 0E20 0E21 1020 , 
00207                               System_Console                            
00208                                                                         </code></pre>
</doc-codeblock></div>
<p>Salve todas as alterações que você fez até agora e saia do arquivo de SYSTEM CONFIG.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; file</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="etapas-para-verificar-a-sintaxe-do-arquivo-de-configuração-do-sistema">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#etapas-para-verificar-a-sintaxe-do-arquivo-de-configuração-do-sistema">#</doc-anchor-trigger>
        <span>Etapas para verificar a sintaxe do arquivo de CONFIGURAÇÃO DO SISTEMA</span>
    </h3>
</doc-anchor-target>
<p>Como o arquivo de CONFIGURAÇÃO DO SISTEMA contém dados muito importantes, é necessário ter muito cuidado para garantir que seu conteúdo esteja correto. O sistema pode não iniciar corretamente se esse arquivo contiver erros. Corrigir os erros pode ser complicado. O z/VM fornece uma ferramenta, CPSYNTAX, no minidisco 193 para verificar a sintaxe do arquivo de CONFIGURAÇÃO DO SISTEMA.</p>
<p><strong>Procedimento</strong></p>
<ul>
<li>Faça login como MAINT &amp; Para acessar o comando CPSYNTAX, acesse o
disco 193 como F. Na linha de comando, digite o seguinte comando e
pressione a tecla Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; access 193 f</code></pre>
</doc-codeblock></div>
<ul>
<li>Execute o comando CPSYNTAX. Na linha de comando, digite este comando e
pressione a tecla Enter:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; cpsyntax system config x</code></pre>
</doc-codeblock></div>
<ul>
<li>Verifique se o código de retorno é zero. Se não for zero,
modifique o arquivo de SYSTEM CONFIG e execute novamente a utilidade CPSYNTAX. Exemplo de um código de retorno diferente de zero:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">acc 193 f                                                                       
Ready; T=0.01/0.01 17:14:17                                                     

listfile cpsyntax * *                                                           
CPSYNTAX EXEC     F2                                                            
Ready; T=0.01/0.01 17:14:28                                                     

cpsyntax system config x                                                        
HCPSYK6700E FILE SYSTEM CONFIG X, RECORD 164:                                   
HCPSYK6701E INVALID SYSTEM CONFIGURATION FILE STATEMENT - DISCONNECT_TIMEOUT    
                                                                                
Ready(00008); T=0.37/0.38 17:14:46                                              
                                                                                
                                                                                
                                                                                
                                                            RUNNING   ZVMWSXX  </code></pre>
</doc-codeblock></div>
<ul>
<li>Vamos criar um EXEC chamado FREECF0 no seu &quot;disco A&quot; de MAINT, ele irá liberar o disco cf0 para nós em futuras atualizações:</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; x freecf0 exec</code></pre>
</doc-codeblock></div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">00000 * * * Top of File * * *
00001 /* REXX */             
00002 'RELEASE X'            
00003 'CP DETACH CF0'        
00004 * * * End of File * * *</code></pre>
</doc-codeblock></div>
<ul>
<li>Execute o script &quot;FREECF0&quot; para liberar e desanexar o disco de parâmetro CF0.</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; freecf0</code></pre>
</doc-codeblock></div>
</div>
<doc-anchor-target id="reinicie-o-zvm-e-verifique-as-alterações">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#reinicie-o-zvm-e-verifique-as-alterações">#</doc-anchor-trigger>
        <span>Reinicie o z/VM e verifique as alterações</span>
    </h3>
</doc-anchor-target>
<p>Neste exercício, você aprenderá a usar alguns novos comandos CP/CMS para verificar as alterações que você fez no sistema.</p>
<ul>
<li>Desligue e reinicie o seu z/VM</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; shutdown reipl</code></pre>
</doc-codeblock></div>
<p>Quando o sistema é desligado e reiniciado, você verá uma série de mensagens de IPL. O z/VM restaura o sistema para o mesmo estado em que estava antes do desligamento (por exemplo, com o OPERATOR desconectado).</p>
<p>Pressione a tecla Pause se o status do console for &quot;MORE...&quot;</p>
<p>Para obter um logotipo do z/VM, pressione a tecla Enter.</p>
<p>Faça login como MAINT (senha WD5JU8QP)</p>
<p>Pressione a tecla Enter para ir do estado &quot;VM READ&quot; para o estado &quot;RUNNING&quot;.</p>
<ul>
<li>Verifique o espaço de paginação e spooling</li>
</ul>
<p>Use o comando QUERY ALLOC para exibir o número de cilindros ou páginas alocados, em uso e disponíveis para os volumes DASD conectados ao sistema.</p>
<p>Exiba as informações de alocação para o espaço de paginação.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; query alloc page</code></pre>
</doc-codeblock></div>
<p>A saída deve mostrar que o sistema agora possui dois volumes de paginação.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">q alloc page                                                
                EXTENT     EXTENT  TOTAL  PAGES   HIGH    % 
VOLID  RDEV      START        END  PAGES IN USE   PAGE USED 
------ ---- ---------- ---------- ------ ------ ------ ---- 
M01P02 0300          0       2500 450180     40     51   1% 
M01P01 0206          1       3337 600660      0      0   0% 
                                  ------ ------        ---- 
SUMMARY                            1026K     24          1% 
USABLE                             1026K     24          1% 
Ready; T=0.01/0.01 11:14:41                                                              </code></pre>
</doc-codeblock></div>
<p>Exiba as informações de alocação para o espaço de spooling.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; query alloc spool</code></pre>
</doc-codeblock></div>
<p>Se você adicionou outro disco para spool, a saída deve mostrar que o sistema agora possui dois volumes de spool.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">query alloc spool                                          
                EXTENT     EXTENT  TOTAL  PAGES   HIGH    %
VOLID  RDEV      START        END  PAGES IN USE   PAGE USED
------ ---- ---------- ---------- ------ ------ ------ ----
M01S01 0205          1       3337 600660   9020  39600   1%
M01P02 0304          1       3337 600660      0      0   0%
                                  ------ ------        ----
SUMMARY                            1026K   9020          1%
USABLE                             1026K   9020          1%
Ready; T=0.01/0.01 11:15:20   </code></pre>
</doc-codeblock></div>
<ul>
<li>Verifique o identificador do sistema. Use o comando IDENTIFY para exibir
informações sobre o seu ID de usuário e nó.</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; id</code></pre>
</doc-codeblock></div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">identify                                                           
MAINT    AT ZVMWSXX  VIA *        09/13/13 11:18:27 EDT      FRIDAY
Ready; T=0.01/0.01 11:18:27  </code></pre>
</doc-codeblock></div>
<p>Seu identificador de sistema deve ser ZVMWSxx. O identificador de sistema também é exibido no canto inferior direito do console.</p>
<ul>
<li>Verifique a lista de volumes de usuário</li>
</ul>
<p>Use o comando QUERY DASD para exibir uma lista dos DASDs que estão
anexados ao sistema.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">q dasd                         
DASD 0200 CP OWNED  M01RES   89
DASD 0201 CP OWNED  VMCOM1   13
DASD 0202 CP SYSTEM VMCOM2   2 
DASD 0203 CP SYSTEM 630RL1   12
DASD 0204 CP SYSTEM 630RL2   6 
DASD 0205 CP OWNED  M01S01   1 
DASD 0206 CP OWNED  M01P01   0 
DASD 0207 CP SYSTEM M01W01   10
DASD 0208 CP SYSTEM M01W02   1 
DASD 0209 CP SYSTEM M01W03   1 
DASD (*|\textcolor{red}{0300}|*) CP OWNED  (*|\textcolor{red}{M01P02}|*)   0 
DASD (*|\textcolor{red}{0301}|*) CP SYSTEM (*|\textcolor{red}{LNX301}|*)   0
DASD (*|\textcolor{red}{0302}|*) CP SYSTEM (*|\textcolor{red}{LNX302}|*)   0
DASD (*|\textcolor{red}{0303}|*) CP SYSTEM (*|\textcolor{red}{LNX303}|*)   0
DASD (*|\textcolor{red}{0304}|*) CP OWNED  (*|\textcolor{red}{M01S02}|*)   0 
Ready; T=0.01/0.01 11:19:21    </code></pre>
</doc-codeblock></div>
<ul>
<li>Verifique recursos Use o comando QUERY RETRIEVE para exibir a configuração
dos limites do buffer de chave de recuperação.</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; q ret</code></pre>
</doc-codeblock></div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">q ret                                                     
99 buffers available.  Maximum of 255 buffers may be selected.
Ready; T=0.01/0.01 12:27:53      </code></pre>
</doc-codeblock></div>
<p>Agora é possível armazenar e recuperar um máximo de 99 comandos no buffer de chave de recuperação. As teclas de recuperação (PF11 e PF12) são definidas no arquivo PROFILE EXEC.</p>
<ul>
<li>Verificar dispositivos offline</li>
</ul>
<p>Mais uma vez, use o comando QUERY DASD para exibir quaisquer dispositivos offline.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">===&gt; query dasd offline</code></pre>
</doc-codeblock></div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">query dasd offline             
An offline DASD was not found. 
Ready; T=0.01/0.01 12:29:29</code></pre>
</doc-codeblock></div>
<div><p>Este é o nosso ambiente atual após as alterações:</p>
<p><figure class="content-center">
    <img src="../../imgs/workshop-pagespool.png" alt="Environment with extra PAGE and
SPOOL" id="fig:workshoppagespool">
    <figcaption class="caption">Environment with extra PAGE and
SPOOL</figcaption>
</figure>
</p>
</div>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer class="clear-both">
                            
                                <nav class="flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../pt-br/cms/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Anterior</span>
                                                <span class="block mt-1">CMS</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../pt-br/network-concepts/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Próximo</span>
                                                <span class="block mt-1">Conceitos de Rede</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p>Please share with the z community.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "System Configuration", level: 2, icon: "file", hasPrism: false, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
